{% extends "layout.html" %}

{% block title %}{{ 'Edit Customer' if customer else 'Add New Customer' }}{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <h2 class="section-title">{{ 'Edit Customer' if customer else 'Add New Customer' }}</h2>

    <div class="card">
        {% if error %}
        <div
            style="background: rgba(248, 113, 113, 0.1); color: var(--danger); padding: 0.75rem; border-radius: 8px; margin-bottom: 1.5rem;">
            {{ error }}
        </div>
        {% endif %}

        <form method="POST"
            action="{{ url_for('edit_customer', id=customer.id) if customer else url_for('add_customer') }}">
            <div class="form-group">
                <label>Customer Name</label>
                <input type="text" name="name" class="form-input" required placeholder="e.g. John Doe"
                    value="{{ customer.name if customer else '' }}">
            </div>

            <div class="form-group">
                <label>Email Address</label>
                <input type="email" name="email" class="form-input" required placeholder="e.g. john@example.com"
                    value="{{ customer.email if customer else '' }}">
            </div>

            <div class="form-group">
                <label>Phone Number</label>
                <input type="tel" name="phone" class="form-input" placeholder="e.g. +1 555 123 4567"
                    value="{{ customer.phone if customer else '' }}">
            </div>

            <div class="form-group">
                <label>Status</label>
                <select name="status" class="form-input">
                    <option value="New" {% if customer and customer.status=='New' %}selected{% endif %}>New</option>
                    <option value="Active" {% if customer and customer.status=='Active' %}selected{% endif %}>Active
                    </option>
                    <option value="VIP" {% if customer and customer.status=='VIP' %}selected{% endif %}>VIP</option>
                </select>
            </div>

            <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1.5rem;">
                <a href="{{ url_for('customers') }}" class="btn-secondary"
                    style="text-decoration: none; padding: 0.75rem 1.5rem; display: inline-block;">Cancel</a>
                <button type="submit" class="btn-primary">{{ 'Update Customer' if customer else 'Save Customer'
                    }}</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}